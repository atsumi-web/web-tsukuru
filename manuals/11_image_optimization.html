<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>画像最適化ガイド | 自分用マニュアル</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700&display=swap">
    <style>
        body {
            font-family: 'Noto Sans JP', sans-serif;
            line-height: 1.8;
            color: #333;
            max-width: 900px;
            margin: 0 auto;
            padding: 40px 20px;
            background: #f9fafb;
        }
        h1 { color: #1e3a8a; border-bottom: 3px solid #d97706; padding-bottom: 10px; }
        h2 { color: #2563eb; margin-top: 40px; border-left: 5px solid #d97706; padding-left: 15px; }
        h3 { color: #0369a1; margin-top: 30px; }
        code {
            background: #fef3c7;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            color: #92400e;
        }
        pre {
            background: #1e293b;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            border-left: 5px solid #d97706;
        }
        pre code {
            background: transparent;
            color: #e2e8f0;
            padding: 0;
        }
        .highlight {
            background: #fef3c7;
            padding: 20px;
            border-left: 5px solid #d97706;
            border-radius: 4px;
            margin: 20px 0;
        }
        .warning {
            background: #fef2f2;
            padding: 20px;
            border-left: 5px solid #dc2626;
            border-radius: 4px;
            margin: 20px 0;
        }
        .success {
            background: #f0fdf4;
            padding: 20px;
            border-left: 5px solid #16a34a;
            border-radius: 4px;
            margin: 20px 0;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
        }
        th, td {
            padding: 12px;
            text-align: left;
            border: 1px solid #e5e7eb;
        }
        th {
            background: #1e3a8a;
            color: white;
            font-weight: 700;
        }
        .step {
            background: white;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
    </style>
</head>
<body>

<h1>📸 画像追加・入れ替えガイド</h1>

<div class="highlight">
    <strong>📋 基本ルール</strong><br>
    <strong>100KB以上の画像は必ず最適化する</strong><br>
    これにより、PageSpeedスコア79点以上を維持できます。
</div>

<h2>🎯 クイックスタート（3ステップ）</h2>

<div class="step">
    <h3>ステップ1: 画像を配置</h3>
    <pre><code>works/hotta/images/
├── benefits/    # 福利厚生
├── company/     # 会社情報
├── culture/     # 社風・イベント
├── hero/        # ヒーロービデオ
├── team/        # チームメンバー
└── works/       # 施工実績</code></pre>
</div>

<div class="step">
    <h3>ステップ2: サイズを確認</h3>
    <p>PowerShellで以下を実行：</p>
    <pre><code>cd C:\Users\eri76\OneDrive\Desktop\VSC\web-tsukuru\works\hotta
Get-Item images/フォルダ名/画像名.jpg | Select-Object Name, @{Name="Size(KB)";Expression={[math]::Round($_.Length/1KB,0)}}</code></pre>
    
    <p><strong>100KB以上の場合</strong> → ステップ3へ<br>
    <strong>100KB未満の場合</strong> → そのまま使用OK</p>
</div>

<div class="step">
    <h3>ステップ3: 最適化（100KB以上の場合のみ）</h3>
    
    <h4>方法A: 1枚だけ最適化</h4>
    <pre><code>magick images/フォルダ名/画像名.jpg -resize "800x>" -quality 85 images/フォルダ名/画像名_optimized.webp</code></pre>
    
    <h4>方法B: 複数枚を一括最適化</h4>
    <pre><code>.\optimize-images.ps1</code></pre>
    <p>100KB以上の全画像を自動検出して最適化します。</p>
</div>

<h2>📊 リサイズサイズの目安</h2>

<table>
    <tr>
        <th>ターゲット</th>
        <th>リサイズ・圧縮設定</th>
        <th>用途・解説</th>
    </tr>
    <tr>
        <td><strong>PC用・高画質</strong></td>
        <td><code>-quality 75</code></td>
        <td>一般的なWebP変換。画質と容量のバランスが良い標準設定。</td>
    </tr>
    <tr>
        <td><strong>モバイル用 (攻め)</strong></td>
        <td><strong><code>-quality 50</code></strong></td>
        <td><strong>スマホ専用の攻撃的設定</strong>。<br>小さな画面では画質劣化が目立たないため、ここまで下げて容量を極限まで削る。<br>（例: <code>_mobile.webp</code>）</td>
    </tr>
</table>

<h3>サイズ別リサイズ目安</h3>
<table>
    <tr>
        <th>元のサイズ</th>
        <th>リサイズ指定</th>
        <th>例</th>
    </tr>
    <tr>
        <td>1MB以上</td>
        <td><code>-resize "1200x>"</code></td>
        <td>最大幅1200px</td>
    </tr>
    <tr>
        <td>500KB-1MB</td>
        <td><code>-resize "1000x>"</code></td>
        <td>最大幅1000px</td>
    </tr>
    <tr>
        <td>100KB-500KB</td>
        <td><code>-resize "800x>"</code></td>
        <td>最大幅800px</td>
    </tr>
</table>

<h2>🔄 画像を入れ替える場合</h2>

<div class="step">
    <h3>既存の画像を更新</h3>
    <ol>
        <li>新しい画像を最適化</li>
        <li><strong>同じファイル名で保存</strong></li>
        <li>HTMLの変更は不要！</li>
    </ol>
    
    <p>例:</p>
    <pre><code># hotta-101.webp を入れ替え
magick 新しい画像.jpg -resize "800x>" -quality 85 images/team/hotta-101_optimized.webp</code></pre>
    
    <div class="success">
        <strong>✅ メリット</strong><br>
        元のファイル名（hotta-101_optimized.webp）を使えば、HTML の変更不要！
    </div>
</div>

<h2>📝 HTMLに追加する場合</h2>

<h3>最適化した画像</h3>
<pre><code>&lt;img src="images/フォルダ名/画像名_optimized.webp" alt="説明" width="800" height="600"&gt;</code></pre>

<h3>最適化不要な画像（100KB未満）</h3>
<pre><code>&lt;img src="images/フォルダ名/画像名.webp" alt="説明" width="800" height="600"&gt;</code></pre>

<h2>⚡ 完了後：コミット＆プッシュ</h2>

<pre><code>cd C:\Users\eri76\OneDrive\Desktop\VSC\web-tsukuru\works\hotta
git add .
git commit -m "feat: 新しい画像を追加"
git push origin main</code></pre>

<h2>❗ 重要な注意点</h2>

<div class="success">
    <h3>✅ やるべきこと</h3>
    <ul>
        <li>100KB以上の画像は必ず最適化</li>
        <li>WebP形式を優先的に使用</li>
        <li>ファイル名に <code>_optimized</code> を付ける（管理しやすい）</li>
    </ul>
</div>

<div class="warning">
    <h3>❌ やってはいけないこと</h3>
    <ul>
        <li>元の画像を直接削除しない（バックアップとして保持）</li>
        <li>最適化せずに大きな画像をアップロード</li>
        <li>不要になった画像の放置（定期的に整理）</li>
    </ul>
</div>

<h2>🎉 まとめ</h2>

<div class="highlight">
    <strong>簡単3ステップで完了</strong><br>
    1. 画像を配置<br>
    2. 100KB以上なら最適化（<code>magick</code> コマンド）<br>
    3. コミット＆プッシュ<br><br>
    
    これで、PageSpeedスコア79点を維持できます！
</div>

<p style="text-align: center; margin-top: 60px; color: #999; font-size: 0.9rem;">
    <a href="Private_index.html" style="text-decoration: none; color: #2563eb;">← 自分用マニュアルに戻る</a>
</p>

<!-- GLOBAL NAVIGATION -->
<style>
    .global-nav { position: fixed; bottom: 30px; right: 30px; display: flex; flex-direction: column; gap: 15px; z-index: 9999; }
    .nav-btn { width: 50px; height: 50px; border-radius: 50%; background: #0F172A; color: #C5A059; display: flex; align-items: center; justify-content: center; text-decoration: none; box-shadow: 0 5px 20px rgba(0,0,0,0.3); transition: all 0.3s; border: 2px solid #C5A059; font-size: 1.2rem; cursor: pointer; }
    .nav-btn:hover { transform: translateY(-3px); background: #C5A059; color: #0F172A; }
    .to-top { opacity: 0; pointer-events: none; }
    .to-top.visible { opacity: 1; pointer-events: all; }
</style>
<div class="global-nav">
    <a href="admin.html" class="nav-btn" title="驕狗畑蜿ｸ莉､螳､縺ｸ"><i class="fa-solid fa-tower-broadcast"></i></a>
    <div class="nav-btn to-top" onclick="window.scrollTo({top:0, behavior:'smooth'})" title="繝壹・繧ｸ繝医ャ繝励∈"><i class="fa-solid fa-arrow-up"></i></div>
</div>
<script>
    window.addEventListener('scroll', () => {
        const toTop = document.querySelector('.to-top');
        if (window.scrollY > 300) toTop.classList.add('visible');
        else toTop.classList.remove('visible');
    });
</script>
</body>
</html>
